<!DOCTYPE html>
<html>

<head>

</head>

<body>
  <br><br><br><br>
  <h3>Page 2</h3>
  <br><br><br><br>
  <a href="index.html">index</a><br>
  <a href="page3.html">Page 3</a><br>
  <br><br><br><br>
</body>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script src="https://www.googletagmanager.com/gtag/js?id=UA-137952485-1"></script>
<script>

  function uuid4() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
      var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
      return v.toString(16);
    });
  }

  var sessionId = sessionStorage.getItem('sessionId');
  var pageViewActivityId = uuid4();
  if (!sessionId) {
    sessionId = uuid4();
    sessionStorage.setItem('sessionId', sessionId);
  }

  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'UA-137952485-1', {
    'custom_map': {
      'dimension1': 'clientId',
      'dimension2': 'sessionId',
      'dimension3': 'pageActivityId',
      'dimension4': 'testDimensionValue'
    },
    'send_page_view': false
  });

  gtag('event', 'page_view', {
    'pageActivityId': pageViewActivityId,
    'sessionId': sessionId
  });

  gtag('event', 'test_custom_event', { 'testDimensionValue': uuid4() });
  gtag('event', 'login', { 'method': 'Google' });

  // ga('create', 'UA-137952485-1', 'auto');

  // ga(function(tracker) {
  //   var clientId = tracker.get('clientId');
  //   console.log('Cliend ID', clientId);
  //   ga('set', 'ga:dimension4', clientId);
  // });
</script>

</html>